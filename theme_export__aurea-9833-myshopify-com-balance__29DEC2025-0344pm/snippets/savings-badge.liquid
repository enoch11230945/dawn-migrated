{%- comment -%}
  Smart Savings Badge
  Shows discount percentage and amount saved.
  
  Usage: {% render 'savings-badge', product: product %}
{%- endcomment -%}

{%- liquid
  assign current_variant = product.selected_or_first_available_variant
  assign compare_price = current_variant.compare_at_price | default: product.compare_at_price
  assign price = current_variant.price | default: product.price
-%}

{% if compare_price > price %}
  {%- liquid
    assign savings = compare_price | minus: price
    assign savings_percent = savings | times: 100.0 | divided_by: compare_price | round
  -%}
  
  <span class="aurea-savings-badge">
    SAVE {{ savings_percent }}% ({{ savings | money }})
  </span>
{% endif %}

<style>
  .aurea-savings-badge {
    display: inline-block;
    background: linear-gradient(135deg, #B8860B 0%, #D4AF37 100%);
    color: #FFFFFF;
    font-size: 0.75rem;
    font-weight: 700;
    letter-spacing: 0.05em;
    padding: 4px 10px;
    border-radius: 3px;
    text-transform: uppercase;
    margin-left: 8px;
    vertical-align: middle;
  }
</style>
