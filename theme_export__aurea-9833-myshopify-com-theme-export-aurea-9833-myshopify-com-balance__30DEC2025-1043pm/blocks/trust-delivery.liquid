{%- comment -%}
  AUREA Trust & Delivery Block
  Shows shipping info, trust badges, and stock status
  For use inside product-details (right side column)
{%- endcomment -%}

{% liquid
  assign product_resource = closest.product
%}

<div class="aurea-trust-block" {{ block.shopify_attributes }}>
  
  {%- comment -%} Stock Status {%- endcomment -%}
  <div class="aurea-trust-block__stock">
    {%- if product_resource.available -%}
      {%- assign variant = product_resource.selected_or_first_available_variant -%}
      {%- if variant.inventory_quantity > 10 or variant.inventory_policy == 'continue' -%}
        <span class="aurea-trust-block__stock-badge aurea-trust-block__stock-badge--in-stock">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
            <circle cx="8" cy="8" r="6" stroke="currentColor" stroke-width="1.5"/>
            <path d="M5 8L7 10L11 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          Sold Out
        </span>
      {%- elsif variant.inventory_quantity > 0 -%}
        <span class="aurea-trust-block__stock-badge aurea-trust-block__stock-badge--low-stock">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
            <circle cx="8" cy="8" r="6" stroke="currentColor" stroke-width="1.5"/>
            <path d="M8 5V8.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
            <circle cx="8" cy="11" r="0.75" fill="currentColor"/>
          </svg>
          Low Stock — Only {{ variant.inventory_quantity }} left
        </span>
      {%- endif -%}
    {%- else -%}
      <span class="aurea-trust-block__stock-badge aurea-trust-block__stock-badge--sold-out">
        <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
          <circle cx="8" cy="8" r="6" stroke="currentColor" stroke-width="1.5"/>
          <path d="M6 6L10 10M10 6L6 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
        </svg>
        Sold Out
      </span>
    {%- endif -%}
  </div>
  
  {%- comment -%} Delivery Information {%- endcomment -%}
  <div class="aurea-trust-block__delivery">
    <h4 class="aurea-trust-block__heading">Delivery</h4>
    
    <div class="aurea-trust-block__delivery-items">
      <div class="aurea-trust-block__delivery-item">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
          <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="#B8860B" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M2 17L12 22L22 17" stroke="#B8860B" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M2 12L12 17L22 12" stroke="#B8860B" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <div>
          <p class="aurea-trust-block__delivery-title">UK Delivery: 2-3 Business Days</p>
          <p class="aurea-trust-block__delivery-subtitle">Free shipping on orders over £50</p>
        </div>
      </div>
      
      <div class="aurea-trust-block__delivery-item">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
          <circle cx="12" cy="12" r="10" stroke="#B8860B" stroke-width="1.5"/>
          <path d="M12 6V12L16 14" stroke="#B8860B" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <div>
          <p class="aurea-trust-block__delivery-title">Order by 2pm for Same-Day Dispatch</p>
          <p class="aurea-trust-block__delivery-subtitle">Monday to Friday</p>
        </div>
      </div>
    </div>
  </div>
  
  {%- comment -%} Trust Badges {%- endcomment -%}
  <div class="aurea-trust-block__badges">
    <h4 class="aurea-trust-block__heading">Our Promise</h4>
    
    <div class="aurea-trust-block__badges-grid">
      <div class="aurea-trust-block__badge">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
          <path d="M12 22C12 22 20 18 20 12V5L12 2L4 5V12C4 18 12 22 12 22Z" stroke="#B8860B" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M9 12L11 14L15 10" stroke="#B8860B" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <span>Secure Checkout</span>
      </div>
      
      <div class="aurea-trust-block__badge">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
          <path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z" stroke="#B8860B" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <span>Lifetime Warranty</span>
      </div>
      
      <div class="aurea-trust-block__badge">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
          <rect x="3" y="8" width="18" height="13" rx="2" stroke="#B8860B" stroke-width="1.5"/>
          <path d="M12 8V21" stroke="#B8860B" stroke-width="1.5"/>
          <path d="M3 12H21" stroke="#B8860B" stroke-width="1.5"/>
        </svg>
        <span>Gift Ready Packaging</span>
      </div>
      
      <div class="aurea-trust-block__badge">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
          <path d="M1 4V10H7" stroke="#B8860B" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M23 20V14H17" stroke="#B8860B" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10M23 14L18.36 18.36A9 9 0 0 1 3.51 15" stroke="#B8860B" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <span>30-Day Returns</span>
      </div>
    </div>
  </div>
  
</div>

<style>
  .aurea-trust-block {
    width: 100%;
    margin: 1.5rem 0;
    padding: 1.25rem;
    background: #FAF8F5;
    border: 1px solid #E8E4DF;
    border-radius: 8px;
  }
  
  .aurea-trust-block__stock {
    margin-bottom: 1.25rem;
  }
  
  .aurea-trust-block__stock-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    font-weight: 600;
    font-size: 0.9rem;
  }
  
  .aurea-trust-block__stock-badge--in-stock {
    color: #2E7D32;
  }
  
  .aurea-trust-block__stock-badge--low-stock {
    color: #B8860B;
  }
  
  .aurea-trust-block__stock-badge--sold-out {
    color: #C62828;
  }
  
  .aurea-trust-block__delivery {
    padding-bottom: 1.25rem;
    border-bottom: 1px solid #E8E4DF;
    margin-bottom: 1.25rem;
  }
  
  .aurea-trust-block__heading {
    font-weight: 600;
    font-size: 0.75rem;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    color: #1A1A1A;
    margin: 0 0 0.75rem 0;
  }
  
  .aurea-trust-block__delivery-items {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
  }
  
  .aurea-trust-block__delivery-item {
    display: flex;
    align-items: flex-start;
    gap: 0.75rem;
  }
  
  .aurea-trust-block__delivery-item svg {
    flex-shrink: 0;
    margin-top: 2px;
  }
  
  .aurea-trust-block__delivery-title {
    font-weight: 600;
    margin: 0;
    font-size: 0.9rem;
  }
  
  .aurea-trust-block__delivery-subtitle {
    color: #666;
    margin: 0.2rem 0 0;
    font-size: 0.8rem;
  }
  
  .aurea-trust-block__badges-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 0.75rem;
  }
  
  .aurea-trust-block__badge {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.8rem;
  }
  
  .aurea-trust-block__badge svg {
    flex-shrink: 0;
  }
</style>

{% schema %}
{
  "name": "Trust & Delivery",
  "settings": []
}
{% endschema %}
